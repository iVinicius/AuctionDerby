--select * from PARTICIPANT;

--drop SEQUENCE participant_seq restrict;

--drop table participant;

--values (NEXT VALUE FOR participant_seq);

CREATE TABLE PARTICIPANT(
	ID INTEGER NOT NULL PRIMARY KEY,
	NAME VARCHAR(300) NOT NULL,
	CPF VARCHAR(14) NOT NULL UNIQUE,
	EMAIL VARCHAR(100) NOT NULL);
	
CREATE SEQUENCE participant_seq
 START WITH     1
 INCREMENT BY   1;
 
CREATE TABLE ASSET(
	ID INTEGER NOT NULL PRIMARY KEY,
	BRIEFDESCRIPTION VARCHAR(100) NOT NULL,
	FULLDESCRIPTION VARCHAR(1000),
	CATEGORY_ID INTEGER NOT NULL); 
	
CREATE SEQUENCE asset_seq
 START WITH     1
 INCREMENT BY   1;
 
CREATE TABLE AUCTION(
	ID INTEGER NOT NULL PRIMARY KEY,
	BYDEMAND VARCHAR(1) NOT NULL,
	HIDDENBIDS VARCHAR(1) NOT NULL,
	STARTBIDDING TIMESTAMP NOT NULL,
	ENDBIDDING TIMESTAMP NOT NULL,
	SELLERORBUYER_ID INTEGER NOT NULL,
	LOT_ID INTEGER NOT NULL);
	
CREATE SEQUENCE auction_seq
 START WITH     1
 INCREMENT BY   1;
 
CREATE TABLE BID(
	ID INTEGER NOT NULL PRIMARY KEY,
	BIDDER_ID INTEGER NOT NULL,
	VALUE INTEGER NOT NULL,
	LOT_ID INTEGER NOT NULL,
	BIDTIME TIMESTAMP NOT NULL);
	
CREATE SEQUENCE bid_seq
 START WITH     1
 INCREMENT BY   1;
 
CREATE TABLE LOT(
	ID INTEGER NOT NULL PRIMARY KEY,
	VALUE INTEGER NOT NULL,
	ISVALUEMAX VARCHAR(1) NOT NULL);

CREATE SEQUENCE lot_seq
 START WITH     1
 INCREMENT BY   1;
 
CREATE TABLE LOT_ASSET(
	LOT_ID INTEGER NOT NULL,
	ASSET_ID INTEGER NOT NULL,
	constraint LOT_ASSET_PK PRIMARY KEY (LOT_ID, ASSET_ID));
	
CREATE TABLE LOT_BID(
	LOT_ID INTEGER NOT NULL,
	BID_ID INTEGER NOT NULL,
	constraint LOT_BID_PK PRIMARY KEY (LOT_ID, BID_ID));